# 对象代理

## 	静态代理

​			有具体java类（不常用）

## 	动态代理

​			代理对象动态生成，无需依靠静态代理类

```java
package wang.web.test;

import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Method;
import java.lang.reflect.Proxy;



interface Company{
    String sale(double money);
}

class XiangGui implements  Company{
    @Override
    public String  sale(double money) {
        System.out.println("收入 "+money+" 元，卖出一台电脑");
        return "one Comput";
    }
}

public class Test {
    public static void main(String[] args) {

        // 动态代理
        Company company = new XiangGui();

        Company company_proxy =(Company)Proxy.newProxyInstance(
            Test.class.getClassLoader(), 
            company.getClass().getInterfaces(), 
            new InvocationHandler() {
            @Override
            public Object invoke(Object proxy, Method method, Object[] args)
                throws Throwable {

                switch (method.getName()){
                    case "sale":
                        Object returnValue = method.invoke(company, args);
                        System.out.println("送个鼠标垫");
                        return returnValue;
                    default:
                        return null;
                }
            }
        });


        System.out.println(  company_proxy.sale(888)  );


    }

}

```



